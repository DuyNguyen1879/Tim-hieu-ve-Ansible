Trong một môi trường nhiều server thì ta sẽ có rất nhiều thứ phải lo, từ setup crontab, update các gói phần mềm mới, deploy ứng dụng mới, chỉnh sửa file cấu hình ... Những công việc tuy không khó nhưng rất mất thời gian của những người quản trị. 

Chính vì vậy những tool automation để quản trị hệ thống ra đời. Hiện nay có rất nhiều tool như vậy như : Chef, Pupper, CFEngine, StackStorm, Ansible, SaltStack, ... Trong bài này sẽ tìm hiểu về một công cụ rất mạnh mẽ trong việc quản trị hệ thống đó là **Ansible**

## Ansible là gì? 

**Ansible** là công cụ mã nguồn mở dùng để quản lý cài đặt, cấu hình hệ thống một cách tập trung và cho phép thực thi câu lệnh điều khiển

Sử dụng SSH ( hoặc Powershell ) và các module được viết bằng ngôn ngữ Python để điều khiển hệ thống

Sử dụng định dạng JSON để hiển thị thông tin và sử dụng YAML để xây dựng cấu trúc mô tả hệ thống

#### Đặc điểm của Ansible

- Không cần cài đặt phần mềm lên các agent, chỉ cần cài đặt tại master
- Không service, daemon, chỉ thực thi khi được gọi
- Bảo mật cao ( do sử dụng giao thức SSH để kết nối )
- Cú pháp dễ đọc, dễ học, dễ hiểu

### Tại sao nên dùng Ansible ? 

- **Tiết kiệm thời gian** : thay vì làm từng thiết bị thì Ansible sẽ làm đồng loạt tất cả các thiết bị
- **Tránh sai sót** : Ngồi gõ tay nhiều lần lặp đi lặp lại dễ dẫn đến sai sót
- **Đồng bộ cấu hình** : Khi thêm xóa, sửa, thay đổi cấu hình giữa các thiết bị cũ và mới. Ansible giúp cho mọi thứ được đồng nhất
- **Xử lý sự cố nhanh hơn** : Khi có sự cố thay vì phải đăng nhập từng con tìm thông tin, ping, status, IP, log thì dùng Ansible có hết log, IP, status ra file report

## Kiến trúc của Ansible 

<img src="https://github.com/vjnkvt/Images/blob/master/ansible-infra.png">

- **Iventory** : là tệp tin chứa thông tin ansible host mà chúng ta sẽ khai báo, cấu hình mặc định tại đường dẫn “/etc/ansible/hosts”

- **Module**: Ansible có rất nhiều module, ví dụ như moduel yum là module dùng để cài đặt các gói phần mềm qua yum. Ansible hiện có hơn ….2000 module để thực hiện nhiều tác vụ khác nhau

- **Plugin**: Là thành phần tăng thêm chức năng core của Ansible. Ansible sử dụng các plugin để thêm tính phong phú, linh hoạt và mở rộng hơn

- **API** : 
